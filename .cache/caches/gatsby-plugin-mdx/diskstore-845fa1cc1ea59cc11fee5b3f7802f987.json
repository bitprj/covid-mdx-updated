{"expireTime":9007200841149206000,"key":"gatsby-plugin-mdx-entire-payload-f56097086e244e5ac972189808ebd7d5-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import { CodeSurfer as Surfer } from \"code-surfer\";\nimport { CodeSurferColumns, Step } from \"code-surfer\";\nimport { Appear, Background } from \"gatsby-theme-mdx-deck\";\nimport * as L from \"../src/layout\";\nimport customTheme from \"../src/theme\";\nimport GreetingLoader from \"./src/greeting-loader\";","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":6,"column":52,"offset":294},"indent":[1,1,1,1,1]}},{"type":"export","value":"export const theme = customTheme;","position":{"start":{"line":8,"column":1,"offset":296},"end":{"line":8,"column":34,"offset":329},"indent":[]}},{"type":"jsx","value":"<L.Column>","position":{"start":{"line":10,"column":1,"offset":331},"end":{"line":10,"column":11,"offset":341},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Concurrent Mode","position":{"start":{"line":12,"column":3,"offset":345},"end":{"line":12,"column":18,"offset":360},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":343},"end":{"line":12,"column":18,"offset":360},"indent":[]}},{"type":"jsx","value":"</L.Column>","position":{"start":{"line":14,"column":1,"offset":362},"end":{"line":14,"column":12,"offset":373},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":16,"column":1,"offset":375},"end":{"line":16,"column":4,"offset":378},"indent":[]}},{"type":"jsx","value":"<CodeSurferColumns sizes={[1, 2]}>\n  \n<Step subtitle=\"Here is a simple React component\">\n  \n<GreetingLoader />","position":{"start":{"line":18,"column":1,"offset":380},"end":{"line":22,"column":19,"offset":490},"indent":[1,1,1,1]}},{"type":"code","lang":"jsx","meta":"file=./src/greeting.1.1.js","value":"","position":{"start":{"line":24,"column":1,"offset":492},"end":{"line":25,"column":4,"offset":529},"indent":[1]}},{"type":"jsx","value":"</Step>","position":{"start":{"line":27,"column":1,"offset":531},"end":{"line":27,"column":8,"offset":538},"indent":[]}},{"type":"jsx","value":"<Step subtitle=\"we want to make the 'name' editable\">\n    \n<GreetingLoader />","position":{"start":{"line":29,"column":1,"offset":540},"end":{"line":31,"column":19,"offset":617},"indent":[1,1]}},{"type":"code","lang":"jsx","meta":"7 file=./src/greeting.1.1.js","value":"","position":{"start":{"line":33,"column":1,"offset":619},"end":{"line":34,"column":4,"offset":658},"indent":[1]}},{"type":"jsx","value":"</Step>\n  \n<Step subtitle=\"so we turn the component into a class\">\n    \n<GreetingLoader version=\"class.1.1\" />","position":{"start":{"line":36,"column":1,"offset":660},"end":{"line":40,"column":39,"offset":770},"indent":[1,1,1,1]}},{"type":"code","lang":"jsx","meta":"file=./src/greeting.class.1.1.js","value":"","position":{"start":{"line":42,"column":1,"offset":772},"end":{"line":43,"column":4,"offset":815},"indent":[1]}},{"type":"jsx","value":"</Step>","position":{"start":{"line":45,"column":1,"offset":817},"end":{"line":45,"column":8,"offset":824},"indent":[]}},{"type":"jsx","value":"<Step subtitle=\"add some state\">","position":{"start":{"line":47,"column":1,"offset":826},"end":{"line":47,"column":33,"offset":858},"indent":[]}},{"type":"jsx","value":"<GreetingLoader version=\"class.1.2\" />","position":{"start":{"line":49,"column":1,"offset":860},"end":{"line":49,"column":39,"offset":898},"indent":[]}},{"type":"code","lang":"jsx","meta":"file=./src/greeting.class.1.2.js","value":"","position":{"start":{"line":51,"column":1,"offset":900},"end":{"line":52,"column":4,"offset":943},"indent":[1]}},{"type":"jsx","value":"</Step>","position":{"start":{"line":54,"column":1,"offset":945},"end":{"line":54,"column":8,"offset":952},"indent":[]}},{"type":"jsx","value":"<Step subtitle=\"and add a change handler that calls setState\">","position":{"start":{"line":56,"column":1,"offset":954},"end":{"line":56,"column":63,"offset":1016},"indent":[]}},{"type":"jsx","value":"<GreetingLoader version=\"class.1.3\" />","position":{"start":{"line":58,"column":1,"offset":1018},"end":{"line":58,"column":39,"offset":1056},"indent":[]}},{"type":"code","lang":"jsx","meta":"10:12,15:17,25 file=./src/greeting.class.1.3.js","value":"","position":{"start":{"line":60,"column":1,"offset":1058},"end":{"line":61,"column":4,"offset":1116},"indent":[1]}},{"type":"jsx","value":"</Step>","position":{"start":{"line":63,"column":1,"offset":1118},"end":{"line":63,"column":8,"offset":1125},"indent":[]}},{"type":"jsx","value":"<Step subtitle=\"we can now edit the name and it should work\">","position":{"start":{"line":65,"column":1,"offset":1127},"end":{"line":65,"column":62,"offset":1188},"indent":[]}},{"type":"jsx","value":"<GreetingLoader version=\"class.1.3\" />","position":{"start":{"line":67,"column":1,"offset":1190},"end":{"line":67,"column":39,"offset":1228},"indent":[]}},{"type":"code","lang":"jsx","meta":"1:31 file=./src/greeting.class.1.3.js","value":"","position":{"start":{"line":69,"column":1,"offset":1230},"end":{"line":70,"column":4,"offset":1278},"indent":[1]}},{"type":"jsx","value":"</Step>","position":{"start":{"line":72,"column":1,"offset":1280},"end":{"line":72,"column":8,"offset":1287},"indent":[]}},{"type":"jsx","value":"</CodeSurferColumns>","position":{"start":{"line":74,"column":1,"offset":1289},"end":{"line":74,"column":21,"offset":1309},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":76,"column":1,"offset":1311},"end":{"line":76,"column":4,"offset":1314},"indent":[]}},{"type":"jsx","value":"<Background />\n<L.Column sx={{ minHeight: '0' }}>","position":{"start":{"line":77,"column":1,"offset":1315},"end":{"line":78,"column":35,"offset":1364},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Disclaimer","position":{"start":{"line":80,"column":4,"offset":1369},"end":{"line":80,"column":14,"offset":1379},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":1366},"end":{"line":80,"column":14,"offset":1379},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Information in this talk may not be accurate or may change in the future","position":{"start":{"line":82,"column":5,"offset":1385},"end":{"line":82,"column":77,"offset":1457},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":1381},"end":{"line":82,"column":77,"offset":1457},"indent":[]}},{"type":"jsx","value":"</L.Column>","position":{"start":{"line":84,"column":1,"offset":1459},"end":{"line":84,"column":12,"offset":1470},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":86,"column":1,"offset":1472},"end":{"line":86,"column":4,"offset":1475},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":88,"column":1,"offset":1477},"end":{"line":88,"column":8,"offset":1484},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Time Slicing","position":{"start":{"line":90,"column":4,"offset":1489},"end":{"line":90,"column":16,"offset":1501},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":1486},"end":{"line":90,"column":16,"offset":1501},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"\"Chunking slow rendering on subtree into little blocks of work by interrupting the work loop.\"","position":{"start":{"line":92,"column":5,"offset":1507},"end":{"line":92,"column":99,"offset":1601},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":1503},"end":{"line":92,"column":99,"offset":1601},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":94,"column":1,"offset":1603},"end":{"line":94,"column":9,"offset":1611},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":96,"column":1,"offset":1613},"end":{"line":96,"column":4,"offset":1616},"indent":[]}},{"type":"import","value":"import DanDemoBlocking from '../assets/dan-demo-blocking.png';","position":{"start":{"line":98,"column":1,"offset":1618},"end":{"line":98,"column":63,"offset":1680},"indent":[]}},{"type":"jsx","value":"<img src={DanDemoBlocking} />","position":{"start":{"line":100,"column":1,"offset":1682},"end":{"line":100,"column":30,"offset":1711},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":102,"column":1,"offset":1713},"end":{"line":102,"column":4,"offset":1716},"indent":[]}},{"type":"import","value":"import DanDemoConcurrent from '../assets/dan-demo-concurrent.png';","position":{"start":{"line":104,"column":1,"offset":1718},"end":{"line":104,"column":67,"offset":1784},"indent":[]}},{"type":"jsx","value":"<img src={DanDemoConcurrent} />","position":{"start":{"line":106,"column":1,"offset":1786},"end":{"line":106,"column":32,"offset":1817},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":108,"column":1,"offset":1819},"end":{"line":108,"column":4,"offset":1822},"indent":[]}},{"type":"jsx","value":"<Background />","position":{"start":{"line":110,"column":1,"offset":1824},"end":{"line":110,"column":15,"offset":1838},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"\"Wait a minute... I already know about this! What is this talk really about?\"","position":{"start":{"line":112,"column":5,"offset":1844},"end":{"line":112,"column":82,"offset":1921},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":1840},"end":{"line":112,"column":82,"offset":1921},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":114,"column":1,"offset":1923},"end":{"line":114,"column":4,"offset":1926},"indent":[]}},{"type":"jsx","value":"<L.Column>","position":{"start":{"line":116,"column":1,"offset":1928},"end":{"line":116,"column":11,"offset":1938},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Concurrent Mode","position":{"start":{"line":118,"column":3,"offset":1942},"end":{"line":118,"column":18,"offset":1957},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":1940},"end":{"line":118,"column":18,"offset":1957},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"A chain of unfortunate consequences","position":{"start":{"line":120,"column":4,"offset":1962},"end":{"line":120,"column":39,"offset":1997},"indent":[]}}],"position":{"start":{"line":120,"column":1,"offset":1959},"end":{"line":120,"column":39,"offset":1997},"indent":[]}},{"type":"jsx","value":"</L.Column>","position":{"start":{"line":122,"column":1,"offset":1999},"end":{"line":122,"column":12,"offset":2010},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":124,"column":1,"offset":2012},"end":{"line":124,"column":4,"offset":2015},"indent":[]}},{"type":"jsx","value":"<Background />","position":{"start":{"line":126,"column":1,"offset":2017},"end":{"line":126,"column":15,"offset":2031},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"How does React \"delay\" rendering?","position":{"start":{"line":128,"column":5,"offset":2037},"end":{"line":128,"column":38,"offset":2070},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":2033},"end":{"line":128,"column":38,"offset":2070},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":130,"column":1,"offset":2072},"end":{"line":130,"column":4,"offset":2075},"indent":[]}},{"type":"jsx","value":"<L.Column>","position":{"start":{"line":132,"column":1,"offset":2077},"end":{"line":132,"column":11,"offset":2087},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Sources of Slowdown","position":{"start":{"line":134,"column":4,"offset":2092},"end":{"line":134,"column":23,"offset":2111},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":2089},"end":{"line":134,"column":23,"offset":2111},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Slow component render functions","position":{"start":{"line":136,"column":3,"offset":2115},"end":{"line":136,"column":34,"offset":2146},"indent":[]}}],"position":{"start":{"line":136,"column":3,"offset":2115},"end":{"line":136,"column":34,"offset":2146},"indent":[]}}],"position":{"start":{"line":136,"column":1,"offset":2113},"end":{"line":136,"column":34,"offset":2146},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Slow state setter or reducer updater functions","position":{"start":{"line":137,"column":3,"offset":2149},"end":{"line":137,"column":49,"offset":2195},"indent":[]}}],"position":{"start":{"line":137,"column":3,"offset":2149},"end":{"line":137,"column":49,"offset":2195},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":2147},"end":{"line":137,"column":49,"offset":2195},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Slow effect functions","position":{"start":{"line":138,"column":3,"offset":2198},"end":{"line":138,"column":24,"offset":2219},"indent":[]}}],"position":{"start":{"line":138,"column":3,"offset":2198},"end":{"line":138,"column":24,"offset":2219},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":2196},"end":{"line":138,"column":24,"offset":2219},"indent":[]}}],"position":{"start":{"line":136,"column":1,"offset":2113},"end":{"line":138,"column":24,"offset":2219},"indent":[1,1]}},{"type":"jsx","value":"</L.Column>","position":{"start":{"line":140,"column":1,"offset":2221},"end":{"line":140,"column":12,"offset":2232},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":142,"column":1,"offset":2234},"end":{"line":142,"column":4,"offset":2237},"indent":[]}},{"type":"import","value":"import DeferredSetState from '../assets/deferred-setstate.svg';","position":{"start":{"line":144,"column":1,"offset":2239},"end":{"line":144,"column":64,"offset":2302},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":146,"column":1,"offset":2304},"end":{"line":146,"column":8,"offset":2311},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Deferred setState.","position":{"start":{"line":148,"column":4,"offset":2316},"end":{"line":148,"column":22,"offset":2334},"indent":[]}}],"position":{"start":{"line":148,"column":1,"offset":2313},"end":{"line":148,"column":22,"offset":2334},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Any state setter or dispatch can be delayed.","position":{"start":{"line":150,"column":5,"offset":2340},"end":{"line":150,"column":49,"offset":2384},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":2336},"end":{"line":150,"column":49,"offset":2384},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":152,"column":1,"offset":2386},"end":{"line":152,"column":9,"offset":2394},"indent":[]}},{"type":"jsx","value":"<DeferredSetState />","position":{"start":{"line":154,"column":1,"offset":2396},"end":{"line":154,"column":21,"offset":2416},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":156,"column":1,"offset":2418},"end":{"line":156,"column":4,"offset":2421},"indent":[]}},{"type":"import","value":"import InterruptRendering from '../assets/interrupt-rendering.svg';","position":{"start":{"line":158,"column":1,"offset":2423},"end":{"line":158,"column":68,"offset":2490},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":160,"column":1,"offset":2492},"end":{"line":160,"column":8,"offset":2499},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Interrupt Rendering.","position":{"start":{"line":162,"column":4,"offset":2504},"end":{"line":162,"column":24,"offset":2524},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":2501},"end":{"line":162,"column":24,"offset":2524},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Any rendering can be interrupted and can be completed later before committing.","position":{"start":{"line":164,"column":5,"offset":2530},"end":{"line":164,"column":83,"offset":2608},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":2526},"end":{"line":164,"column":83,"offset":2608},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":166,"column":1,"offset":2610},"end":{"line":166,"column":9,"offset":2618},"indent":[]}},{"type":"jsx","value":"<InterruptRendering />","position":{"start":{"line":168,"column":1,"offset":2620},"end":{"line":168,"column":23,"offset":2642},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":170,"column":1,"offset":2644},"end":{"line":170,"column":4,"offset":2647},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":172,"column":1,"offset":2649},"end":{"line":172,"column":8,"offset":2656},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Oops #1","position":{"start":{"line":174,"column":4,"offset":2661},"end":{"line":174,"column":11,"offset":2668},"indent":[]}}],"position":{"start":{"line":174,"column":1,"offset":2658},"end":{"line":174,"column":11,"offset":2668},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Delaying rendering is only safe when no effects are pending on a subtree.","position":{"start":{"line":176,"column":5,"offset":2674},"end":{"line":176,"column":78,"offset":2747},"indent":[]}}],"position":{"start":{"line":176,"column":1,"offset":2670},"end":{"line":176,"column":78,"offset":2747},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":178,"column":1,"offset":2749},"end":{"line":178,"column":9,"offset":2757},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":180,"column":1,"offset":2759},"end":{"line":180,"column":4,"offset":2762},"indent":[]}},{"type":"import","value":"import HooksAPI from '../assets/hooks-api.svg';","position":{"start":{"line":182,"column":1,"offset":2764},"end":{"line":182,"column":48,"offset":2811},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":184,"column":1,"offset":2813},"end":{"line":184,"column":8,"offset":2820},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The Hooks API.","position":{"start":{"line":186,"column":4,"offset":2825},"end":{"line":186,"column":18,"offset":2839},"indent":[]}}],"position":{"start":{"line":186,"column":1,"offset":2822},"end":{"line":186,"column":18,"offset":2839},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"This restriction is reflected in the hooks API with encapsulation of effects.","position":{"start":{"line":188,"column":5,"offset":2845},"end":{"line":188,"column":82,"offset":2922},"indent":[]}}],"position":{"start":{"line":188,"column":1,"offset":2841},"end":{"line":188,"column":82,"offset":2922},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":190,"column":1,"offset":2924},"end":{"line":190,"column":9,"offset":2932},"indent":[]}},{"type":"jsx","value":"<HooksAPI />","position":{"start":{"line":192,"column":1,"offset":2934},"end":{"line":192,"column":13,"offset":2946},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":194,"column":1,"offset":2948},"end":{"line":194,"column":4,"offset":2951},"indent":[]}},{"type":"import","value":"import HooksAPITiming from '../assets/hooks-api-timing.svg';","position":{"start":{"line":196,"column":1,"offset":2953},"end":{"line":196,"column":61,"offset":3013},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":198,"column":1,"offset":3015},"end":{"line":198,"column":8,"offset":3022},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Hooks Timings.","position":{"start":{"line":200,"column":4,"offset":3027},"end":{"line":200,"column":18,"offset":3041},"indent":[]}}],"position":{"start":{"line":200,"column":1,"offset":3024},"end":{"line":200,"column":18,"offset":3041},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"With each hook we observe a part of the lifecycle and can react.","position":{"start":{"line":202,"column":5,"offset":3047},"end":{"line":202,"column":69,"offset":3111},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":3043},"end":{"line":202,"column":69,"offset":3111},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":204,"column":1,"offset":3113},"end":{"line":204,"column":9,"offset":3121},"indent":[]}},{"type":"jsx","value":"<HooksAPITiming />","position":{"start":{"line":206,"column":1,"offset":3123},"end":{"line":206,"column":19,"offset":3141},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":208,"column":1,"offset":3143},"end":{"line":208,"column":4,"offset":3146},"indent":[]}},{"type":"import","value":"import ComponentLifecycle from '../assets/component-lifecycle.svg';","position":{"start":{"line":210,"column":1,"offset":3148},"end":{"line":210,"column":68,"offset":3215},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":212,"column":1,"offset":3217},"end":{"line":212,"column":8,"offset":3224},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The Lifecycle.","position":{"start":{"line":214,"column":4,"offset":3229},"end":{"line":214,"column":18,"offset":3243},"indent":[]}}],"position":{"start":{"line":214,"column":1,"offset":3226},"end":{"line":214,"column":18,"offset":3243},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"The lifecycle we observe has three phases repeating.","position":{"start":{"line":216,"column":5,"offset":3249},"end":{"line":216,"column":57,"offset":3301},"indent":[]}}],"position":{"start":{"line":216,"column":1,"offset":3245},"end":{"line":216,"column":57,"offset":3301},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":218,"column":1,"offset":3303},"end":{"line":218,"column":9,"offset":3311},"indent":[]}},{"type":"jsx","value":"<ComponentLifecycle />","position":{"start":{"line":220,"column":1,"offset":3313},"end":{"line":220,"column":23,"offset":3335},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":222,"column":1,"offset":3337},"end":{"line":222,"column":4,"offset":3340},"indent":[]}},{"type":"import","value":"import ObservingLifecycleEvents from '../assets/observing-lifecycle-events.svg';","position":{"start":{"line":224,"column":1,"offset":3342},"end":{"line":224,"column":81,"offset":3422},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":226,"column":1,"offset":3424},"end":{"line":226,"column":8,"offset":3431},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Observing the Lifecycle.","position":{"start":{"line":228,"column":4,"offset":3436},"end":{"line":228,"column":28,"offset":3460},"indent":[]}}],"position":{"start":{"line":228,"column":1,"offset":3433},"end":{"line":228,"column":28,"offset":3460},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Overlapping the lifecycle with hooks, we see a phase that we can't observe...","position":{"start":{"line":230,"column":5,"offset":3466},"end":{"line":230,"column":82,"offset":3543},"indent":[]}}],"position":{"start":{"line":230,"column":1,"offset":3462},"end":{"line":230,"column":82,"offset":3543},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":232,"column":1,"offset":3545},"end":{"line":232,"column":9,"offset":3553},"indent":[]}},{"type":"jsx","value":"<ObservingLifecycleEvents />","position":{"start":{"line":234,"column":1,"offset":3555},"end":{"line":234,"column":29,"offset":3583},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":236,"column":1,"offset":3585},"end":{"line":236,"column":4,"offset":3588},"indent":[]}},{"type":"import","value":"import InterruptedLifecycle from '../assets/interrupted-lifecycle.svg';","position":{"start":{"line":238,"column":1,"offset":3590},"end":{"line":238,"column":72,"offset":3661},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":240,"column":1,"offset":3663},"end":{"line":240,"column":8,"offset":3670},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Interrupting the Lifecycle.","position":{"start":{"line":242,"column":4,"offset":3675},"end":{"line":242,"column":31,"offset":3702},"indent":[]}}],"position":{"start":{"line":242,"column":1,"offset":3672},"end":{"line":242,"column":31,"offset":3702},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Unfortunately this phase becomes very relevant in Strict and Concurrent Mode.","position":{"start":{"line":244,"column":5,"offset":3708},"end":{"line":244,"column":82,"offset":3785},"indent":[]}}],"position":{"start":{"line":244,"column":1,"offset":3704},"end":{"line":244,"column":82,"offset":3785},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":246,"column":1,"offset":3787},"end":{"line":246,"column":9,"offset":3795},"indent":[]}},{"type":"jsx","value":"<InterruptedLifecycle />","position":{"start":{"line":248,"column":1,"offset":3797},"end":{"line":248,"column":25,"offset":3821},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":250,"column":1,"offset":3823},"end":{"line":250,"column":4,"offset":3826},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":252,"column":1,"offset":3828},"end":{"line":252,"column":8,"offset":3835},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Oops #2","position":{"start":{"line":254,"column":4,"offset":3840},"end":{"line":254,"column":11,"offset":3847},"indent":[]}}],"position":{"start":{"line":254,"column":1,"offset":3837},"end":{"line":254,"column":11,"offset":3847},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"It's not possible to have a subscription or effect track the component lifecycle.","position":{"start":{"line":256,"column":5,"offset":3853},"end":{"line":256,"column":86,"offset":3934},"indent":[]}}],"position":{"start":{"line":256,"column":1,"offset":3849},"end":{"line":256,"column":86,"offset":3934},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":258,"column":1,"offset":3936},"end":{"line":258,"column":9,"offset":3944},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":260,"column":1,"offset":3946},"end":{"line":260,"column":4,"offset":3949},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":262,"column":1,"offset":3951},"end":{"line":262,"column":8,"offset":3958},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Workaround","position":{"start":{"line":264,"column":4,"offset":3963},"end":{"line":264,"column":14,"offset":3973},"indent":[]}}],"position":{"start":{"line":264,"column":1,"offset":3960},"end":{"line":264,"column":14,"offset":3973},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Resort to useSubscription","position":{"start":{"line":266,"column":5,"offset":3979},"end":{"line":266,"column":30,"offset":4004},"indent":[]}}],"position":{"start":{"line":266,"column":1,"offset":3975},"end":{"line":266,"column":30,"offset":4004},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":268,"column":1,"offset":4006},"end":{"line":268,"column":9,"offset":4014},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":270,"column":1,"offset":4016},"end":{"line":270,"column":4,"offset":4019},"indent":[]}},{"type":"import","value":"import SchedulerPriorities from '../assets/scheduler-priorities.svg';","position":{"start":{"line":272,"column":1,"offset":4021},"end":{"line":272,"column":70,"offset":4090},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":274,"column":1,"offset":4092},"end":{"line":274,"column":8,"offset":4099},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Scheduler Priorities.","position":{"start":{"line":276,"column":4,"offset":4104},"end":{"line":276,"column":25,"offset":4125},"indent":[]}}],"position":{"start":{"line":276,"column":1,"offset":4101},"end":{"line":276,"column":25,"offset":4125},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"In Concurrent Mode the time budgets are switched on for time slicing.","position":{"start":{"line":278,"column":5,"offset":4131},"end":{"line":278,"column":74,"offset":4200},"indent":[]}}],"position":{"start":{"line":278,"column":1,"offset":4127},"end":{"line":278,"column":74,"offset":4200},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":280,"column":1,"offset":4202},"end":{"line":280,"column":9,"offset":4210},"indent":[]}},{"type":"jsx","value":"<SchedulerPriorities />","position":{"start":{"line":282,"column":1,"offset":4212},"end":{"line":282,"column":24,"offset":4235},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":284,"column":1,"offset":4237},"end":{"line":284,"column":4,"offset":4240},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":286,"column":1,"offset":4242},"end":{"line":286,"column":8,"offset":4249},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Oops #3","position":{"start":{"line":288,"column":4,"offset":4254},"end":{"line":288,"column":11,"offset":4261},"indent":[]}}],"position":{"start":{"line":288,"column":1,"offset":4251},"end":{"line":288,"column":11,"offset":4261},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Seems like React isn't all that predictable anymore.","position":{"start":{"line":290,"column":5,"offset":4267},"end":{"line":290,"column":57,"offset":4319},"indent":[]}}],"position":{"start":{"line":290,"column":1,"offset":4263},"end":{"line":290,"column":57,"offset":4319},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":292,"column":1,"offset":4321},"end":{"line":292,"column":9,"offset":4329},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":294,"column":1,"offset":4331},"end":{"line":294,"column":4,"offset":4334},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":296,"column":1,"offset":4336},"end":{"line":296,"column":8,"offset":4343},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Workaround","position":{"start":{"line":298,"column":4,"offset":4348},"end":{"line":298,"column":14,"offset":4358},"indent":[]}}],"position":{"start":{"line":298,"column":1,"offset":4345},"end":{"line":298,"column":14,"offset":4358},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Synchronous Subscriber and scheduled teardown","position":{"start":{"line":300,"column":5,"offset":4364},"end":{"line":300,"column":50,"offset":4409},"indent":[]}}],"position":{"start":{"line":300,"column":1,"offset":4360},"end":{"line":300,"column":50,"offset":4409},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":302,"column":1,"offset":4411},"end":{"line":302,"column":9,"offset":4419},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/facebook/react/issues/15317#issuecomment-573337558","children":[{"type":"text","value":"https://github.com/facebook/react/issues/15317#issuecomment-573337558","position":{"start":{"line":304,"column":1,"offset":4421},"end":{"line":304,"column":70,"offset":4490},"indent":[]}}],"position":{"start":{"line":304,"column":1,"offset":4421},"end":{"line":304,"column":70,"offset":4490},"indent":[]}}],"position":{"start":{"line":304,"column":1,"offset":4421},"end":{"line":304,"column":70,"offset":4490},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":306,"column":1,"offset":4492},"end":{"line":306,"column":4,"offset":4495},"indent":[]}},{"type":"jsx","value":"<Background />","position":{"start":{"line":308,"column":1,"offset":4497},"end":{"line":308,"column":15,"offset":4511},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"\"We didn't yet get to what happens when an effect is slow, right?\"","position":{"start":{"line":310,"column":5,"offset":4517},"end":{"line":310,"column":71,"offset":4583},"indent":[]}}],"position":{"start":{"line":310,"column":1,"offset":4513},"end":{"line":310,"column":71,"offset":4583},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":312,"column":1,"offset":4585},"end":{"line":312,"column":4,"offset":4588},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":314,"column":1,"offset":4590},"end":{"line":314,"column":8,"offset":4597},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Tearing","position":{"start":{"line":316,"column":4,"offset":4602},"end":{"line":316,"column":11,"offset":4609},"indent":[]}}],"position":{"start":{"line":316,"column":1,"offset":4599},"end":{"line":316,"column":11,"offset":4609},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"\"When a subtree's renderered state falls behind while another subtree has committed updates already.\"","position":{"start":{"line":318,"column":5,"offset":4615},"end":{"line":318,"column":106,"offset":4716},"indent":[]}}],"position":{"start":{"line":318,"column":1,"offset":4611},"end":{"line":318,"column":106,"offset":4716},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":320,"column":1,"offset":4718},"end":{"line":320,"column":9,"offset":4726},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":322,"column":1,"offset":4728},"end":{"line":322,"column":4,"offset":4731},"indent":[]}},{"type":"import","value":"import Tearing1 from '../assets/bvaughn-tearing-1.png';\nimport Tearing2 from '../assets/bvaughn-tearing-2.png';","position":{"start":{"line":324,"column":1,"offset":4733},"end":{"line":325,"column":56,"offset":4844},"indent":[1]}},{"type":"jsx","value":"<L.Row>\n<img src={Tearing2} />\n<img src={Tearing1} />\n</L.Row>","position":{"start":{"line":327,"column":1,"offset":4846},"end":{"line":330,"column":9,"offset":4908},"indent":[1,1,1]}},{"type":"thematicBreak","position":{"start":{"line":332,"column":1,"offset":4910},"end":{"line":332,"column":4,"offset":4913},"indent":[]}},{"type":"jsx","value":"<L.Column>","position":{"start":{"line":334,"column":1,"offset":4915},"end":{"line":334,"column":11,"offset":4925},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"React's solution?","position":{"start":{"line":336,"column":4,"offset":4930},"end":{"line":336,"column":21,"offset":4947},"indent":[]}}],"position":{"start":{"line":336,"column":1,"offset":4927},"end":{"line":336,"column":21,"offset":4947},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"When an effect slows down, React can't safely interrupt or delay updates.","position":{"start":{"line":338,"column":3,"offset":4951},"end":{"line":338,"column":76,"offset":5024},"indent":[]}}],"position":{"start":{"line":338,"column":3,"offset":4951},"end":{"line":338,"column":76,"offset":5024},"indent":[]}}],"position":{"start":{"line":338,"column":1,"offset":4949},"end":{"line":338,"column":76,"offset":5024},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Instead it batches all updates and switches back to blocking mode","position":{"start":{"line":339,"column":3,"offset":5027},"end":{"line":339,"column":68,"offset":5092},"indent":[]}}],"position":{"start":{"line":339,"column":3,"offset":5027},"end":{"line":339,"column":68,"offset":5092},"indent":[]}}],"position":{"start":{"line":339,"column":1,"offset":5025},"end":{"line":339,"column":68,"offset":5092},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"This is called a ","position":{"start":{"line":340,"column":3,"offset":5095},"end":{"line":340,"column":20,"offset":5112},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"deopt","position":{"start":{"line":340,"column":21,"offset":5113},"end":{"line":340,"column":26,"offset":5118},"indent":[]}}],"position":{"start":{"line":340,"column":20,"offset":5112},"end":{"line":340,"column":27,"offset":5119},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":340,"column":27,"offset":5119},"end":{"line":340,"column":28,"offset":5120},"indent":[]}}],"position":{"start":{"line":340,"column":3,"offset":5095},"end":{"line":340,"column":28,"offset":5120},"indent":[]}}],"position":{"start":{"line":340,"column":1,"offset":5093},"end":{"line":340,"column":28,"offset":5120},"indent":[]}}],"position":{"start":{"line":338,"column":1,"offset":4949},"end":{"line":340,"column":28,"offset":5120},"indent":[1,1]}},{"type":"jsx","value":"</L.Column>","position":{"start":{"line":342,"column":1,"offset":5122},"end":{"line":342,"column":12,"offset":5133},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":344,"column":1,"offset":5135},"end":{"line":344,"column":4,"offset":5138},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":346,"column":1,"offset":5140},"end":{"line":346,"column":8,"offset":5147},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Oops #4","position":{"start":{"line":348,"column":4,"offset":5152},"end":{"line":348,"column":11,"offset":5159},"indent":[]}}],"position":{"start":{"line":348,"column":1,"offset":5149},"end":{"line":348,"column":11,"offset":5159},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"React Concurrent's deopt can be slower than Blocking was before.","position":{"start":{"line":350,"column":5,"offset":5165},"end":{"line":350,"column":69,"offset":5229},"indent":[]}}],"position":{"start":{"line":350,"column":1,"offset":5161},"end":{"line":350,"column":69,"offset":5229},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":352,"column":1,"offset":5231},"end":{"line":352,"column":9,"offset":5239},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":354,"column":1,"offset":5241},"end":{"line":354,"column":4,"offset":5244},"indent":[]}},{"type":"jsx","value":"<L.Column>","position":{"start":{"line":356,"column":1,"offset":5246},"end":{"line":356,"column":11,"offset":5256},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"However","position":{"start":{"line":358,"column":4,"offset":5261},"end":{"line":358,"column":11,"offset":5268},"indent":[]}}],"position":{"start":{"line":358,"column":1,"offset":5258},"end":{"line":358,"column":11,"offset":5268},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"This may still cause ","position":{"start":{"line":360,"column":3,"offset":5272},"end":{"line":360,"column":24,"offset":5293},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"tearing","position":{"start":{"line":360,"column":25,"offset":5294},"end":{"line":360,"column":32,"offset":5301},"indent":[]}}],"position":{"start":{"line":360,"column":24,"offset":5293},"end":{"line":360,"column":33,"offset":5302},"indent":[]}},{"type":"text","value":" when another update is scheduled during this blocking batch.","position":{"start":{"line":360,"column":33,"offset":5302},"end":{"line":360,"column":94,"offset":5363},"indent":[]}}],"position":{"start":{"line":360,"column":3,"offset":5272},"end":{"line":360,"column":94,"offset":5363},"indent":[]}}],"position":{"start":{"line":360,"column":1,"offset":5270},"end":{"line":360,"column":94,"offset":5363},"indent":[]}}],"position":{"start":{"line":360,"column":1,"offset":5270},"end":{"line":360,"column":94,"offset":5363},"indent":[]}},{"type":"jsx","value":"</L.Column>","position":{"start":{"line":362,"column":1,"offset":5365},"end":{"line":362,"column":12,"offset":5376},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":364,"column":1,"offset":5378},"end":{"line":364,"column":4,"offset":5381},"indent":[]}},{"type":"jsx","value":"<L.Row>","position":{"start":{"line":366,"column":1,"offset":5383},"end":{"line":366,"column":8,"offset":5390},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Oops #5","position":{"start":{"line":368,"column":4,"offset":5395},"end":{"line":368,"column":11,"offset":5402},"indent":[]}}],"position":{"start":{"line":368,"column":1,"offset":5392},"end":{"line":368,"column":11,"offset":5402},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"A new ","position":{"start":{"line":370,"column":5,"offset":5408},"end":{"line":370,"column":11,"offset":5414},"indent":[]}},{"type":"inlineCode","value":"useMutableSource","position":{"start":{"line":370,"column":11,"offset":5414},"end":{"line":370,"column":29,"offset":5432},"indent":[]}},{"type":"text","value":" hook is necessary to fix this tearing-during-deopt issue.","position":{"start":{"line":370,"column":29,"offset":5432},"end":{"line":370,"column":87,"offset":5490},"indent":[]}}],"position":{"start":{"line":370,"column":1,"offset":5404},"end":{"line":370,"column":87,"offset":5490},"indent":[]}},{"type":"jsx","value":"</L.Row>","position":{"start":{"line":372,"column":1,"offset":5492},"end":{"line":372,"column":9,"offset":5500},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":374,"column":1,"offset":5502},"end":{"line":374,"column":4,"offset":5505},"indent":[]}},{"type":"jsx","value":"<L.Column>","position":{"start":{"line":376,"column":1,"offset":5507},"end":{"line":376,"column":11,"offset":5517},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Concurrent Mode: Oops","position":{"start":{"line":378,"column":3,"offset":5521},"end":{"line":378,"column":24,"offset":5542},"indent":[]}}],"position":{"start":{"line":378,"column":1,"offset":5519},"end":{"line":378,"column":24,"offset":5542},"indent":[]}},{"type":"jsx","value":"</L.Column>","position":{"start":{"line":380,"column":1,"offset":5544},"end":{"line":380,"column":12,"offset":5555},"indent":[]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":383,"column":1,"offset":5558},"end":{"line":383,"column":31,"offset":5588},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":383,"column":31,"offset":5588}}},"scopeImports":["import { CodeSurfer as Surfer } from \"code-surfer\";","import { CodeSurferColumns, Step } from \"code-surfer\";","import { Appear, Background } from \"gatsby-theme-mdx-deck\";","import * as L from \"../src/layout\";","import customTheme from \"../src/theme\";","import GreetingLoader from \"./src/greeting-loader\";","import DanDemoBlocking from '../assets/dan-demo-blocking.png';","import DanDemoConcurrent from '../assets/dan-demo-concurrent.png';","import DeferredSetState from '../assets/deferred-setstate.svg';","import InterruptRendering from '../assets/interrupt-rendering.svg';","import HooksAPI from '../assets/hooks-api.svg';","import HooksAPITiming from '../assets/hooks-api-timing.svg';","import ComponentLifecycle from '../assets/component-lifecycle.svg';","import ObservingLifecycleEvents from '../assets/observing-lifecycle-events.svg';","import InterruptedLifecycle from '../assets/interrupted-lifecycle.svg';","import SchedulerPriorities from '../assets/scheduler-priorities.svg';","import Tearing1 from '../assets/bvaughn-tearing-1.png';","import Tearing2 from '../assets/bvaughn-tearing-2.png';","import React from 'react'"],"scopeIdentifiers":["Surfer","CodeSurferColumns","Step","Appear","Background","L","customTheme","GreetingLoader","DanDemoBlocking","DanDemoConcurrent","DeferredSetState","InterruptRendering","HooksAPI","HooksAPITiming","ComponentLifecycle","ObservingLifecycleEvents","InterruptedLifecycle","SchedulerPriorities","Tearing1","Tearing2","React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar theme = customTheme;\nvar _frontmatter = {};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  theme: theme,\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(L.Column, null, mdx(\"h1\", null, \"Concurrent Mode\")), mdx(\"hr\", null), mdx(CodeSurferColumns, {\n    sizes: [1, 2],\n    mdxType: \"CodeSurferColumns\"\n  }, mdx(Step, {\n    subtitle: \"Here is a simple React component\",\n    mdxType: \"Step\"\n  }, mdx(GreetingLoader, {\n    mdxType: \"GreetingLoader\"\n  }), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\",\n    \"metastring\": \"file=./src/greeting.1.1.js\",\n    \"file\": \"./src/greeting.1.1.js\"\n  }), \"import React from \\\"react\\\";\\nimport Row from \\\"./row\\\";\\n\\nexport default function Greeting(props) {\\n  return (\\n    <section>\\n      <Row label=\\\"Name\\\">{props.name}</Row>\\n    </section>\\n  );\\n}\\n\"))), mdx(Step, {\n    subtitle: \"we want to make the 'name' editable\",\n    mdxType: \"Step\"\n  }, mdx(GreetingLoader, {\n    mdxType: \"GreetingLoader\"\n  }), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"7\": true,\n    \"className\": \"language-jsx\",\n    \"metastring\": \"7 file=./src/greeting.1.1.js\",\n    \"file\": \"./src/greeting.1.1.js\"\n  }), \"import React from \\\"react\\\";\\nimport Row from \\\"./row\\\";\\n\\nexport default function Greeting(props) {\\n  return (\\n    <section>\\n      <Row label=\\\"Name\\\">{props.name}</Row>\\n    </section>\\n  );\\n}\\n\"))), mdx(Step, {\n    subtitle: \"so we turn the component into a class\",\n    mdxType: \"Step\"\n  }, mdx(GreetingLoader, {\n    version: \"class.1.1\",\n    mdxType: \"GreetingLoader\"\n  }), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\",\n    \"metastring\": \"file=./src/greeting.class.1.1.js\",\n    \"file\": \"./src/greeting.class.1.1.js\"\n  }), \"import React from \\\"react\\\";\\nimport Row from \\\"./row\\\";\\n\\nexport default class Greeting extends React.Component {\\n  render() {\\n    return (\\n      <section>\\n        <Row label=\\\"Name\\\">{this.props.name}</Row>\\n      </section>\\n    );\\n  }\\n}\\n\"))), mdx(Step, {\n    subtitle: \"add some state\",\n    mdxType: \"Step\"\n  }, mdx(GreetingLoader, {\n    version: \"class.1.2\",\n    mdxType: \"GreetingLoader\"\n  }), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\",\n    \"metastring\": \"file=./src/greeting.class.1.2.js\",\n    \"file\": \"./src/greeting.class.1.2.js\"\n  }), \"import React from \\\"react\\\";\\nimport Row from \\\"./row\\\";\\n\\nexport default class Greeting extends React.Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      name: \\\"Mary\\\"\\n    };\\n  }\\n\\n  render() {\\n    return (\\n      <section>\\n        <Row label=\\\"Name\\\">\\n          <input value={this.state.name} />\\n        </Row>\\n      </section>\\n    );\\n  }\\n}\\n\"))), mdx(Step, {\n    subtitle: \"and add a change handler that calls setState\",\n    mdxType: \"Step\"\n  }, mdx(GreetingLoader, {\n    version: \"class.1.3\",\n    mdxType: \"GreetingLoader\"\n  }), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\",\n    \"metastring\": \"10:12,15:17,25 file=./src/greeting.class.1.3.js\",\n    \"10:12,15:17,25\": true,\n    \"file\": \"./src/greeting.class.1.3.js\"\n  }), \"import React from \\\"react\\\";\\nimport Row from \\\"./row\\\";\\n\\nexport default class Greeting extends React.Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      name: \\\"Mary\\\",\\n    };\\n    this.handleNameChange = this.handleNameChange.bind(\\n      this\\n    );\\n  }\\n\\n  handleNameChange(e) {\\n    this.setState({ name: e.target.value });\\n  }\\n\\n  render() {\\n    return (\\n      <section>\\n        <Row label=\\\"Name\\\">\\n          <input\\n            value={this.state.name}\\n            onChange={this.handleNameChange}\\n          />\\n        </Row>\\n      </section>\\n    );\\n  }\\n}\\n\"))), mdx(Step, {\n    subtitle: \"we can now edit the name and it should work\",\n    mdxType: \"Step\"\n  }, mdx(GreetingLoader, {\n    version: \"class.1.3\",\n    mdxType: \"GreetingLoader\"\n  }), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\",\n    \"metastring\": \"1:31 file=./src/greeting.class.1.3.js\",\n    \"1:31\": true,\n    \"file\": \"./src/greeting.class.1.3.js\"\n  }), \"import React from \\\"react\\\";\\nimport Row from \\\"./row\\\";\\n\\nexport default class Greeting extends React.Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      name: \\\"Mary\\\",\\n    };\\n    this.handleNameChange = this.handleNameChange.bind(\\n      this\\n    );\\n  }\\n\\n  handleNameChange(e) {\\n    this.setState({ name: e.target.value });\\n  }\\n\\n  render() {\\n    return (\\n      <section>\\n        <Row label=\\\"Name\\\">\\n          <input\\n            value={this.state.name}\\n            onChange={this.handleNameChange}\\n          />\\n        </Row>\\n      </section>\\n    );\\n  }\\n}\\n\")))), mdx(\"hr\", null), mdx(Background, {\n    mdxType: \"Background\"\n  }), mdx(L.Column, {\n    sx: {\n      minHeight: '0'\n    }\n  }, mdx(\"h2\", null, \"Disclaimer\"), mdx(\"h3\", null, \"Information in this talk may not be accurate or may change in the future\")), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Time Slicing\"), mdx(\"h3\", null, \"\\\"Chunking slow rendering on subtree into little blocks of work by interrupting the work loop.\\\"\")), mdx(\"hr\", null), mdx(\"img\", {\n    src: DanDemoBlocking\n  }), mdx(\"hr\", null), mdx(\"img\", {\n    src: DanDemoConcurrent\n  }), mdx(\"hr\", null), mdx(Background, {\n    mdxType: \"Background\"\n  }), mdx(\"h3\", null, \"\\\"Wait a minute... I already know about this! What is this talk really about?\\\"\"), mdx(\"hr\", null), mdx(L.Column, null, mdx(\"h1\", null, \"Concurrent Mode\"), mdx(\"h2\", null, \"A chain of unfortunate consequences\")), mdx(\"hr\", null), mdx(Background, {\n    mdxType: \"Background\"\n  }), mdx(\"h3\", null, \"How does React \\\"delay\\\" rendering?\"), mdx(\"hr\", null), mdx(L.Column, null, mdx(\"h2\", null, \"Sources of Slowdown\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Slow component render functions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Slow state setter or reducer updater functions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Slow effect functions\"))), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Deferred setState.\"), mdx(\"h3\", null, \"Any state setter or dispatch can be delayed.\")), mdx(DeferredSetState, {\n    mdxType: \"DeferredSetState\"\n  }), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Interrupt Rendering.\"), mdx(\"h3\", null, \"Any rendering can be interrupted and can be completed later before committing.\")), mdx(InterruptRendering, {\n    mdxType: \"InterruptRendering\"\n  }), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Oops #1\"), mdx(\"h3\", null, \"Delaying rendering is only safe when no effects are pending on a subtree.\")), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"The Hooks API.\"), mdx(\"h3\", null, \"This restriction is reflected in the hooks API with encapsulation of effects.\")), mdx(HooksAPI, {\n    mdxType: \"HooksAPI\"\n  }), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Hooks Timings.\"), mdx(\"h3\", null, \"With each hook we observe a part of the lifecycle and can react.\")), mdx(HooksAPITiming, {\n    mdxType: \"HooksAPITiming\"\n  }), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"The Lifecycle.\"), mdx(\"h3\", null, \"The lifecycle we observe has three phases repeating.\")), mdx(ComponentLifecycle, {\n    mdxType: \"ComponentLifecycle\"\n  }), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Observing the Lifecycle.\"), mdx(\"h3\", null, \"Overlapping the lifecycle with hooks, we see a phase that we can't observe...\")), mdx(ObservingLifecycleEvents, {\n    mdxType: \"ObservingLifecycleEvents\"\n  }), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Interrupting the Lifecycle.\"), mdx(\"h3\", null, \"Unfortunately this phase becomes very relevant in Strict and Concurrent Mode.\")), mdx(InterruptedLifecycle, {\n    mdxType: \"InterruptedLifecycle\"\n  }), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Oops #2\"), mdx(\"h3\", null, \"It's not possible to have a subscription or effect track the component lifecycle.\")), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Workaround\"), mdx(\"h3\", null, \"Resort to useSubscription\")), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Scheduler Priorities.\"), mdx(\"h3\", null, \"In Concurrent Mode the time budgets are switched on for time slicing.\")), mdx(SchedulerPriorities, {\n    mdxType: \"SchedulerPriorities\"\n  }), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Oops #3\"), mdx(\"h3\", null, \"Seems like React isn't all that predictable anymore.\")), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Workaround\"), mdx(\"h3\", null, \"Synchronous Subscriber and scheduled teardown\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/facebook/react/issues/15317#issuecomment-573337558\"\n  }), \"https://github.com/facebook/react/issues/15317#issuecomment-573337558\")), mdx(\"hr\", null), mdx(Background, {\n    mdxType: \"Background\"\n  }), mdx(\"h3\", null, \"\\\"We didn't yet get to what happens when an effect is slow, right?\\\"\"), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Tearing\"), mdx(\"h3\", null, \"\\\"When a subtree's renderered state falls behind while another subtree has committed updates already.\\\"\")), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"img\", {\n    src: Tearing2\n  }), mdx(\"img\", {\n    src: Tearing1\n  })), mdx(\"hr\", null), mdx(L.Column, null, mdx(\"h2\", null, \"React's solution?\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"When an effect slows down, React can't safely interrupt or delay updates.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Instead it batches all updates and switches back to blocking mode\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"This is called a \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"deopt\"), \".\"))), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Oops #4\"), mdx(\"h3\", null, \"React Concurrent's deopt can be slower than Blocking was before.\")), mdx(\"hr\", null), mdx(L.Column, null, mdx(\"h2\", null, \"However\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"This may still cause \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"tearing\"), \" when another update is scheduled during this blocking batch.\"))), mdx(\"hr\", null), mdx(L.Row, null, mdx(\"h2\", null, \"Oops #5\"), mdx(\"h3\", null, \"A new \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"useMutableSource\"), \" hook is necessary to fix this tearing-during-deopt issue.\")), mdx(\"hr\", null), mdx(L.Column, null, mdx(\"h1\", null, \"Concurrent Mode: Oops\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport { CodeSurfer as Surfer } from \"code-surfer\";\nimport { CodeSurferColumns, Step } from \"code-surfer\";\nimport { Appear, Background } from \"gatsby-theme-mdx-deck\";\nimport * as L from \"../src/layout\";\nimport customTheme from \"../src/theme\";\nimport GreetingLoader from \"./src/greeting-loader\";\nimport DanDemoBlocking from '../assets/dan-demo-blocking.png';\nimport DanDemoConcurrent from '../assets/dan-demo-concurrent.png';\nimport DeferredSetState from '../assets/deferred-setstate.svg';\nimport InterruptRendering from '../assets/interrupt-rendering.svg';\nimport HooksAPI from '../assets/hooks-api.svg';\nimport HooksAPITiming from '../assets/hooks-api-timing.svg';\nimport ComponentLifecycle from '../assets/component-lifecycle.svg';\nimport ObservingLifecycleEvents from '../assets/observing-lifecycle-events.svg';\nimport InterruptedLifecycle from '../assets/interrupted-lifecycle.svg';\nimport SchedulerPriorities from '../assets/scheduler-priorities.svg';\nimport Tearing1 from '../assets/bvaughn-tearing-1.png';\nimport Tearing2 from '../assets/bvaughn-tearing-2.png';\nexport const theme = customTheme;\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  theme,\n_frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <L.Column>\n      <h1>{`Concurrent Mode`}</h1>\n    </L.Column>\n    <hr></hr>\n    <CodeSurferColumns sizes={[1, 2]} mdxType=\"CodeSurferColumns\">\n  \n      <Step subtitle=\"Here is a simple React component\" mdxType=\"Step\">\n  \n        <GreetingLoader mdxType=\"GreetingLoader\" />\n        <pre><code parentName=\"pre\" {...{\n            \"className\": \"language-jsx\",\n            \"metastring\": \"file=./src/greeting.1.1.js\",\n            \"file\": \"./src/greeting.1.1.js\"\n          }}>{`import React from \"react\";\nimport Row from \"./row\";\n\nexport default function Greeting(props) {\n  return (\n    <section>\n      <Row label=\"Name\">{props.name}</Row>\n    </section>\n  );\n}\n`}</code></pre>\n      </Step>\n      <Step subtitle=\"we want to make the 'name' editable\" mdxType=\"Step\">\n    \n        <GreetingLoader mdxType=\"GreetingLoader\" />\n        <pre><code parentName=\"pre\" {...{\n            \"7\": true,\n            \"className\": \"language-jsx\",\n            \"metastring\": \"7 file=./src/greeting.1.1.js\",\n            \"file\": \"./src/greeting.1.1.js\"\n          }}>{`import React from \"react\";\nimport Row from \"./row\";\n\nexport default function Greeting(props) {\n  return (\n    <section>\n      <Row label=\"Name\">{props.name}</Row>\n    </section>\n  );\n}\n`}</code></pre>\n      </Step>\n  \n      <Step subtitle=\"so we turn the component into a class\" mdxType=\"Step\">\n    \n        <GreetingLoader version=\"class.1.1\" mdxType=\"GreetingLoader\" />\n        <pre><code parentName=\"pre\" {...{\n            \"className\": \"language-jsx\",\n            \"metastring\": \"file=./src/greeting.class.1.1.js\",\n            \"file\": \"./src/greeting.class.1.1.js\"\n          }}>{`import React from \"react\";\nimport Row from \"./row\";\n\nexport default class Greeting extends React.Component {\n  render() {\n    return (\n      <section>\n        <Row label=\"Name\">{this.props.name}</Row>\n      </section>\n    );\n  }\n}\n`}</code></pre>\n      </Step>\n      <Step subtitle=\"add some state\" mdxType=\"Step\">\n        <GreetingLoader version=\"class.1.2\" mdxType=\"GreetingLoader\" />\n        <pre><code parentName=\"pre\" {...{\n            \"className\": \"language-jsx\",\n            \"metastring\": \"file=./src/greeting.class.1.2.js\",\n            \"file\": \"./src/greeting.class.1.2.js\"\n          }}>{`import React from \"react\";\nimport Row from \"./row\";\n\nexport default class Greeting extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"Mary\"\n    };\n  }\n\n  render() {\n    return (\n      <section>\n        <Row label=\"Name\">\n          <input value={this.state.name} />\n        </Row>\n      </section>\n    );\n  }\n}\n`}</code></pre>\n      </Step>\n      <Step subtitle=\"and add a change handler that calls setState\" mdxType=\"Step\">\n        <GreetingLoader version=\"class.1.3\" mdxType=\"GreetingLoader\" />\n        <pre><code parentName=\"pre\" {...{\n            \"className\": \"language-jsx\",\n            \"metastring\": \"10:12,15:17,25 file=./src/greeting.class.1.3.js\",\n            \"10:12,15:17,25\": true,\n            \"file\": \"./src/greeting.class.1.3.js\"\n          }}>{`import React from \"react\";\nimport Row from \"./row\";\n\nexport default class Greeting extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"Mary\",\n    };\n    this.handleNameChange = this.handleNameChange.bind(\n      this\n    );\n  }\n\n  handleNameChange(e) {\n    this.setState({ name: e.target.value });\n  }\n\n  render() {\n    return (\n      <section>\n        <Row label=\"Name\">\n          <input\n            value={this.state.name}\n            onChange={this.handleNameChange}\n          />\n        </Row>\n      </section>\n    );\n  }\n}\n`}</code></pre>\n      </Step>\n      <Step subtitle=\"we can now edit the name and it should work\" mdxType=\"Step\">\n        <GreetingLoader version=\"class.1.3\" mdxType=\"GreetingLoader\" />\n        <pre><code parentName=\"pre\" {...{\n            \"className\": \"language-jsx\",\n            \"metastring\": \"1:31 file=./src/greeting.class.1.3.js\",\n            \"1:31\": true,\n            \"file\": \"./src/greeting.class.1.3.js\"\n          }}>{`import React from \"react\";\nimport Row from \"./row\";\n\nexport default class Greeting extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"Mary\",\n    };\n    this.handleNameChange = this.handleNameChange.bind(\n      this\n    );\n  }\n\n  handleNameChange(e) {\n    this.setState({ name: e.target.value });\n  }\n\n  render() {\n    return (\n      <section>\n        <Row label=\"Name\">\n          <input\n            value={this.state.name}\n            onChange={this.handleNameChange}\n          />\n        </Row>\n      </section>\n    );\n  }\n}\n`}</code></pre>\n      </Step>\n    </CodeSurferColumns>\n    <hr></hr>\n    <Background mdxType=\"Background\" />\n    <L.Column sx={{\n      minHeight: '0'\n    }}>\n      <h2>{`Disclaimer`}</h2>\n      <h3>{`Information in this talk may not be accurate or may change in the future`}</h3>\n    </L.Column>\n    <hr></hr>\n    <L.Row>\n      <h2>{`Time Slicing`}</h2>\n      <h3>{`\"Chunking slow rendering on subtree into little blocks of work by interrupting the work loop.\"`}</h3>\n    </L.Row>\n    <hr></hr>\n\n    <img src={DanDemoBlocking} />\n    <hr></hr>\n\n    <img src={DanDemoConcurrent} />\n    <hr></hr>\n    <Background mdxType=\"Background\" />\n    <h3>{`\"Wait a minute... I already know about this! What is this talk really about?\"`}</h3>\n    <hr></hr>\n    <L.Column>\n      <h1>{`Concurrent Mode`}</h1>\n      <h2>{`A chain of unfortunate consequences`}</h2>\n    </L.Column>\n    <hr></hr>\n    <Background mdxType=\"Background\" />\n    <h3>{`How does React \"delay\" rendering?`}</h3>\n    <hr></hr>\n    <L.Column>\n      <h2>{`Sources of Slowdown`}</h2>\n      <ul>\n        <li parentName=\"ul\">{`Slow component render functions`}</li>\n        <li parentName=\"ul\">{`Slow state setter or reducer updater functions`}</li>\n        <li parentName=\"ul\">{`Slow effect functions`}</li>\n      </ul>\n    </L.Column>\n    <hr></hr>\n\n    <L.Row>\n      <h2>{`Deferred setState.`}</h2>\n      <h3>{`Any state setter or dispatch can be delayed.`}</h3>\n    </L.Row>\n    <DeferredSetState mdxType=\"DeferredSetState\" />\n    <hr></hr>\n\n    <L.Row>\n      <h2>{`Interrupt Rendering.`}</h2>\n      <h3>{`Any rendering can be interrupted and can be completed later before committing.`}</h3>\n    </L.Row>\n    <InterruptRendering mdxType=\"InterruptRendering\" />\n    <hr></hr>\n    <L.Row>\n      <h2>{`Oops #1`}</h2>\n      <h3>{`Delaying rendering is only safe when no effects are pending on a subtree.`}</h3>\n    </L.Row>\n    <hr></hr>\n\n    <L.Row>\n      <h2>{`The Hooks API.`}</h2>\n      <h3>{`This restriction is reflected in the hooks API with encapsulation of effects.`}</h3>\n    </L.Row>\n    <HooksAPI mdxType=\"HooksAPI\" />\n    <hr></hr>\n\n    <L.Row>\n      <h2>{`Hooks Timings.`}</h2>\n      <h3>{`With each hook we observe a part of the lifecycle and can react.`}</h3>\n    </L.Row>\n    <HooksAPITiming mdxType=\"HooksAPITiming\" />\n    <hr></hr>\n\n    <L.Row>\n      <h2>{`The Lifecycle.`}</h2>\n      <h3>{`The lifecycle we observe has three phases repeating.`}</h3>\n    </L.Row>\n    <ComponentLifecycle mdxType=\"ComponentLifecycle\" />\n    <hr></hr>\n\n    <L.Row>\n      <h2>{`Observing the Lifecycle.`}</h2>\n      <h3>{`Overlapping the lifecycle with hooks, we see a phase that we can't observe...`}</h3>\n    </L.Row>\n    <ObservingLifecycleEvents mdxType=\"ObservingLifecycleEvents\" />\n    <hr></hr>\n\n    <L.Row>\n      <h2>{`Interrupting the Lifecycle.`}</h2>\n      <h3>{`Unfortunately this phase becomes very relevant in Strict and Concurrent Mode.`}</h3>\n    </L.Row>\n    <InterruptedLifecycle mdxType=\"InterruptedLifecycle\" />\n    <hr></hr>\n    <L.Row>\n      <h2>{`Oops #2`}</h2>\n      <h3>{`It's not possible to have a subscription or effect track the component lifecycle.`}</h3>\n    </L.Row>\n    <hr></hr>\n    <L.Row>\n      <h2>{`Workaround`}</h2>\n      <h3>{`Resort to useSubscription`}</h3>\n    </L.Row>\n    <hr></hr>\n\n    <L.Row>\n      <h2>{`Scheduler Priorities.`}</h2>\n      <h3>{`In Concurrent Mode the time budgets are switched on for time slicing.`}</h3>\n    </L.Row>\n    <SchedulerPriorities mdxType=\"SchedulerPriorities\" />\n    <hr></hr>\n    <L.Row>\n      <h2>{`Oops #3`}</h2>\n      <h3>{`Seems like React isn't all that predictable anymore.`}</h3>\n    </L.Row>\n    <hr></hr>\n    <L.Row>\n      <h2>{`Workaround`}</h2>\n      <h3>{`Synchronous Subscriber and scheduled teardown`}</h3>\n    </L.Row>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/facebook/react/issues/15317#issuecomment-573337558\"\n      }}>{`https://github.com/facebook/react/issues/15317#issuecomment-573337558`}</a></p>\n    <hr></hr>\n    <Background mdxType=\"Background\" />\n    <h3>{`\"We didn't yet get to what happens when an effect is slow, right?\"`}</h3>\n    <hr></hr>\n    <L.Row>\n      <h2>{`Tearing`}</h2>\n      <h3>{`\"When a subtree's renderered state falls behind while another subtree has committed updates already.\"`}</h3>\n    </L.Row>\n    <hr></hr>\n\n    <L.Row>\n      <img src={Tearing2} />\n      <img src={Tearing1} />\n    </L.Row>\n    <hr></hr>\n    <L.Column>\n      <h2>{`React's solution?`}</h2>\n      <ul>\n        <li parentName=\"ul\">{`When an effect slows down, React can't safely interrupt or delay updates.`}</li>\n        <li parentName=\"ul\">{`Instead it batches all updates and switches back to blocking mode`}</li>\n        <li parentName=\"ul\">{`This is called a `}<em parentName=\"li\">{`deopt`}</em>{`.`}</li>\n      </ul>\n    </L.Column>\n    <hr></hr>\n    <L.Row>\n      <h2>{`Oops #4`}</h2>\n      <h3>{`React Concurrent's deopt can be slower than Blocking was before.`}</h3>\n    </L.Row>\n    <hr></hr>\n    <L.Column>\n      <h2>{`However`}</h2>\n      <ul>\n        <li parentName=\"ul\">{`This may still cause `}<em parentName=\"li\">{`tearing`}</em>{` when another update is scheduled during this blocking batch.`}</li>\n      </ul>\n    </L.Column>\n    <hr></hr>\n    <L.Row>\n      <h2>{`Oops #5`}</h2>\n      <h3>{`A new `}<inlineCode parentName=\"h3\">{`useMutableSource`}</inlineCode>{` hook is necessary to fix this tearing-during-deopt issue.`}</h3>\n    </L.Row>\n    <hr></hr>\n    <L.Column>\n      <h1>{`Concurrent Mode: Oops`}</h1>\n    </L.Column>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}